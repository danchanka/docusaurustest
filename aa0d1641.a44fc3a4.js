(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{301:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return d}));var o=n(3),r=n(7),a=(n(0),n(419)),i={title:"How-to: Working with documents"},s={unversionedId:"How-to_Working_with_documents",id:"How-to_Working_with_documents",isDocsHomePage:!1,title:"How-to: Working with documents",description:"Posting documents",source:"@site/docs\\How-to_Working_with_documents.md",slug:"/How-to_Working_with_documents",permalink:"/docusaurustest/docs/How-to_Working_with_documents",editUrl:"https://github.com/danchanka/docusaurustest/edit/master/docs/How-to_Working_with_documents.md",version:"current",sidebar:"docs",previous:{title:"How-to: Use Cases",permalink:"/docusaurustest/docs/How-to_Use_Cases"},next:{title:"How-to: Registers",permalink:"/docusaurustest/docs/How-to_Registers"}},c=[],l={toc:c};function d(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h5",{id:"posting-documents"},"Posting documents"),Object(a.b)("h6",{id:"condition"},"Condition"),Object(a.b)("p",null,"There is some logic for working with orders."),Object(a.b)("p",null,"An order edit form has been created for orders."),Object(a.b)("p",null,"Besides, a ",Object(a.b)("strong",{parentName:"p"},'"Posted"')," property has been added for orders. In the future, only orders with this property will take part in subsequent calculations (for example, calculation of the reserved quantity)."),Object(a.b)("p",null,"We need to do so that instead of the\xa0",Object(a.b)("strong",{parentName:"p"},"\u041e\u041a")," button on the order form, there is a ",Object(a.b)("strong",{parentName:"p"},"Post")," button that simultaneously sets the ",Object(a.b)("strong",{parentName:"p"},"Posted")," property for the order, saves changes, and closes the form."),Object(a.b)("h6",{id:"solution"},"Solution"),Object(a.b)("p",null,"Each time the renamed ",Object(a.b)("strong",{parentName:"p"},"OK")," button is pressed, the ",Object(a.b)("strong",{parentName:"p"},"post"),' action will be executed in a single transaction. With this scheme, if the user wants to "post" a document, they just need to go to the edit form, uncheck the ',Object(a.b)("strong",{parentName:"p"},"Posted")," box in the document header, then click ",Object(a.b)("strong",{parentName:"p"},"Save")," and ",Object(a.b)("strong",{parentName:"p"},"Close"),"."),Object(a.b)("h5",{id:"line-selection"},"Line selection"),Object(a.b)("h6",{id:"condition-1"},"Condition"),Object(a.b)("p",null,"We have an order with an edit form similar to the ",Object(a.b)("strong",{parentName:"p"},"Posting documents")," example."),Object(a.b)("p",null,"We need to add a possibility to enter order lines by specifying the quantify in the table containing the list of products. Any changes in order lines and this table should be automatically synchronized with each other."),Object(a.b)("h6",{id:"solution-1"},"Solution"),Object(a.b)("p",null,"The form will look like this:"),Object(a.b)("img",{src:"attachments/46367481/46367490.png",height:"250"}),Object(a.b)("img",{src:"attachments/46367481/46367491.png",height:"250"}),Object(a.b)("p",null,"If the quantity changes on the ",Object(a.b)("strong",{parentName:"p"},"Selection"),"\xa0tab, the system will automatically change order lines. If the order lines are changed, the quantity on the ",Object(a.b)("strong",{parentName:"p"},"Selection")," tab will change as well."),Object(a.b)("p",null,"If an order has two or more lines with one book, the system will reset the quantity in the first lines and set the total in the last line. If you want the change to affect the last line only, you need to use the following action during saving:"),Object(a.b)("p",null,"However, users may not understand this behavior, since after they enter a particular quantity on the ",Object(a.b)("strong",{parentName:"p"},"Selection")," tab, the total quantity for all lines will be shown in the same column and it will be different from the entered value."),Object(a.b)("h5",{id:"aggregated-documents"},"Aggregated documents"),Object(a.b)("h6",{id:"condition-2"},"Condition"),Object(a.b)("p",null,"We have the order logic."),Object(a.b)("p",null,"We need to add some invoicing logic so that an order could automatically create a corresponding invoice."),Object(a.b)("h6",{id:"solution-2"},"Solution"),Object(a.b)("p",null,"In order to implement this logic, you need to create an abstract ",Object(a.b)("strong",{parentName:"p"},"Invoice")," ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docusaurustest/docs/Classes"}),"class")," with the necessary set of ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docusaurustest/docs/Property_extension"}),"abstract properties"),"."),Object(a.b)("p",null,"A form containing the list of objects of this abstract class is also created. It will contain the objects of all classes inherited from the ",Object(a.b)("strong",{parentName:"p"},"Invoice")," class."),Object(a.b)("p",null,"The ",Object(a.b)("strong",{parentName:"p"},"edit")," property will call the current object's edit form defined for its class. If it's not defined for the current object's class, no action will be taken. The ",Object(a.b)("strong",{parentName:"p"},"DELETE")," property will delete the current object if it doesn't violate any constrains."),Object(a.b)("p",null,"An object of an abstract class cannot exist in the system. In order for the user to manually create an invoice, a separate class ",Object(a.b)("strong",{parentName:"p"},"UserInvoice")," is created . Also, it requires the creation of properties symmetrical to the abstract ones that are later added as their implementation."),Object(a.b)("p",null,"Let's create a form for editing a user-generated invoice. Let's add a button for adding a user-generated invoice to the form with a list of abstract invoices."),Object(a.b)("p",null,"For orders, let's create a ",Object(a.b)("strong",{parentName:"p"},"createInvoice")," option that will be used for generating an invoice. We will now need to create a ",Object(a.b)("strong",{parentName:"p"},"OrderInvoice")," class that will be inherited from ",Object(a.b)("strong",{parentName:"p"},"Invoice"),". An object of this class will be automatically created and deleted by the system for every order with the ",Object(a.b)("strong",{parentName:"p"},"createInvoice")," option. Therefore, this invoice is an ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docusaurustest/docs/Aggregations"}),"aggregated object")," for the corresponding order. Aggregation for the invoice line relative to the order line is created identically."),Object(a.b)("p",null,"We specify that an attempt to edit such an aggregated invoice will have to open the edit form for the associated order."),Object(a.b)("p",null,"When you try to delete an invoice created for an order, you will see an error message."),Object(a.b)("p",null,"The fundamental difference between this aggregation approach and one based on generating an invoice against an order is that the system automatically ensures synchronization between orders and invoices. When creating order-based invoices, the user has to manually modify them if corresponding orders are changed. Otherwise, it will require a separate event handling mechanism that will be responsible for it."))}d.isMDXComponent=!0},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),d=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},b=function(e){var t=d(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=d(n),p=o,h=b["".concat(i,".").concat(p)]||b[p]||u[p]||a;return n?r.a.createElement(h,s(s({ref:t},l),{},{components:n})):r.a.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);