(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{257:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return s})),a.d(t,"toc",(function(){return i})),a.d(t,"default",(function(){return p}));var r=a(3),n=a(7),o=(a(0),a(420)),c={title:"How-to: Inheritance and aggregation"},s={unversionedId:"How-to_Inheritance_and_aggregation",id:"How-to_Inheritance_and_aggregation",isDocsHomePage:!1,title:"How-to: Inheritance and aggregation",description:"In order to demonstrate the principles of object inheritance and aggregation, let's implement the logic of creating batches based on receipts and production documents. Let's make it so that each new document with a Posted property will automatically generate exactly one new product batch.",source:"@site/docs\\How-to_Inheritance_and_aggregation.md",slug:"/How-to_Inheritance_and_aggregation",permalink:"/docusaurustest/docs/How-to_Inheritance_and_aggregation",editUrl:"https://github.com/danchanka/docusaurustest/edit/master/docs/How-to_Inheritance_and_aggregation.md",version:"current",sidebar:"docs",previous:{title:"How-to: Constraints",permalink:"/docusaurustest/docs/How-to_Constraints"},next:{title:"How-to: Searching for elements",permalink:"/docusaurustest/docs/How-to_Searching_for_elements"}},i=[],l={toc:i};function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In order to demonstrate the principles of object inheritance and aggregation, let's implement the logic of creating batches based on receipts and production documents. Let's make it so that each new document with a Posted property will automatically generate exactly one new product batch."),Object(o.b)("p",null,"Let's update our logic with the notion of a product whose batches will be accounted for:"),Object(o.b)("p",null,"Let's create a ",Object(o.b)("strong",{parentName:"p"},"Receipt")," ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docusaurustest/docs/User_classes"}),"class")," with objects that will indicate the receipt of products:"),Object(o.b)("p",null,"For the purposes of this example, let's use a simplified scheme with a single class. In reality, you would be using two classes: ",Object(o.b)("strong",{parentName:"p"},"Receipt"),"\xa0(for documents) and ",Object(o.b)("strong",{parentName:"p"},"ReceiptDetail\xa0"),"(for document lines)."),Object(o.b)("p",null,"In a similar way, let's create a Production class to be used for manufactured products:"),Object(o.b)("p",null,"So far, we've been only creating regular classes without any inheritance. To implement the batch logic, let's create an abstract class called ",Object(o.b)("strong",{parentName:"p"},"Batch"),":"),Object(o.b)("p",null,"Each object of this class will correspond to one batch of a particular product. All of its ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docusaurustest/docs/Properties"}),"properties")," will be declared abstract \u2014 that is, their implementation will differ depending on the class of a particular batch."),Object(o.b)("p",null,"You cannot directly create objects of the abstract ",Object(o.b)("strong",{parentName:"p"},"Batch")," class in the system. To do that, you need to declare specific classes that will be inherited from it. In particular, let's create a class for batches formed from the receipt of products:"),Object(o.b)("p",null,"Use the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docusaurustest/docs/AGGR_operator"}),"AGGR")," operator for each object of the ",Object(o.b)("strong",{parentName:"p"},"Receipt"),",\xa0 class with a defined ",Object(o.b)("strong",{parentName:"p"},"posted")," property to automatically create (and delete) an object of the ",Object(o.b)("strong",{parentName:"p"},"ReceiptBatch")," class. At this time, the system creates two properties with reciprocal object links: ",Object(o.b)("strong",{parentName:"p"},"batch(Receipt r)")," and ",Object(o.b)("strong",{parentName:"p"},"receipt(ReceiptBatch b)"),"."),Object(o.b)("p",null,"Now we need to inherit the ",Object(o.b)("strong",{parentName:"p"},"ReceiptBatch")," class from ",Object(o.b)("strong",{parentName:"p"},"Batch")," to make sure that all batches created by the receipt document also become objects of the abstract class (that is, previously declared batches):"),Object(o.b)("p",null,"Inheritance is implemented with the help of the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"/docusaurustest/docs/EXTEND_CLASS_instruction"}),"EXTEND CLASS")," operator.\xa0After that, for each abstract property of ",Object(o.b)("strong",{parentName:"p"},"Batch"),", we define how exactly it should be calculated for a specific ",Object(o.b)("strong",{parentName:"p"},"ReceiptBatch")," class. Date and product values are retrieved from the receipt document through the ",Object(o.b)("strong",{parentName:"p"},"receipt(ReceiptBatch b)")," link. The necessary string is substituted into the batch type under the condition that the object belongs to the right class (otherwise, the expression will be defined for objects of any class, and the system will generate a signature mismatch error)."),Object(o.b)("p",null,"Note that you could inherit a class directly while declaring the ",Object(o.b)("strong",{parentName:"p"},"ReceiptBatch")," class."),Object(o.b)("p",null,"In a similar fashion, let's create batches for manufacturing documents:"),Object(o.b)("p",null,"If necessary, you can create a class for manual batch entry by the user:"))}p.isMDXComponent=!0},420:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var r=a(0),n=a.n(r);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=n.a.createContext({}),p=function(e){var t=n.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=p(a),d=r,h=u["".concat(c,".").concat(d)]||u[d]||b[d]||o;return a?n.a.createElement(h,s(s({ref:t},l),{},{components:a})):n.a.createElement(h,s({ref:t},l))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,c=new Array(o);c[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,c[1]=s;for(var l=2;l<o;l++)c[l]=a[l];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"}}]);